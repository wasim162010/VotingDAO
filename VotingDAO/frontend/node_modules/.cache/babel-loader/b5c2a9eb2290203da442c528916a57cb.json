{"ast":null,"code":"var _jsxFileName = \"/Users/wasim/Documents/GitHub/VotingDAO/VotingDAO/frontend/src/components/Dapp.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { ethers } from 'ethers';\nimport CheckVoterAddress from './CheckVoterAddress';\nimport Proposals from './Proposals';\nimport AddVoter from './AddVoter';\nimport AddProposal from './AddProposal';\nimport TokenArtifact from '../ABI/Ballot.json';\nimport contractAddress from '../ABI/contract-address.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Dapp = () => {\n  _s();\n  const [token, setToken] = useState();\n  const [newVoter, setNewVoter] = useState('');\n  const [newVoterStatus, setNewVoterStatus] = useState('');\n  const [voterStatus, setVoterStatus] = useState();\n  const [voterAddressToCheck, setVoterAddressToCheck] = useState('');\n  const [proposals, setProposals] = useState([]);\n  const [chairperson, setChairperson] = useState('');\n  const [newProposal, setNewProposal] = useState('');\n  const [proposalToAdd, setProposalToAdd] = useState('');\n  const [provider, setProvider] = useState('');\n\n  // **************** Ethers Connection for the SmartContract ****************\n\n  async function _initialize() {\n    await _intializeEthers();\n  }\n  const _intializeEthers = async () => {\n    // ethers connection for the smartcontract\n    const _provider = new ethers.providers.Web3Provider(window.ethereum);\n    const _token = new ethers.Contract(contractAddress.Ballot, TokenArtifact, _provider.getSigner(0));\n    console.log(_token);\n    // get the proposals\n    const newProposal = await _token.getAllProposals();\n    console.log(newProposal);\n    // get the chairman address\n    const newChairperson = await _token.chairperson();\n    console.log(\"newChairperson \", newChairperson);\n    // save the token data into a hook to reuse it along the app\n    setToken(_token);\n    setProposals(newProposal);\n    setChairperson(newChairperson);\n    setProvider(_provider);\n  };\n\n  // Connects to the smart contract token id (check /contracts/contract-address.json)\n  async function init() {\n    const [selectedAddress] = await window.ethereum.enable();\n    _initialize(selectedAddress);\n  }\n  useEffect(() => {\n    // When the page loads it will initialize the init function\n    // that we need to connect the frontend with the smartcontract\n    init();\n  }, []);\n\n  // **************** Here Starts The Real Logic of the Frontend -> SmartContract ****************\n\n  // Vote the selected proposal (you can only vote one time)\n  const voteProposal = async proposal => {\n    console.log(\"voteProposal \", proposal);\n    console.log(\"provider.getSigner().getAddress() \", await provider.getSigner().getAddress());\n    const curUser = await provider.getSigner().getAddress();\n    const chairperson = await token.chairperson();\n    const stats = await token.voters(curUser);\n    console.log(\"stats[voted] \", stats[\"voted\"]);\n    if (stats[\"voted\"]) {\n      alert(\"The voter has already voted.\");\n    } else {\n      if (chairperson === curUser) {\n        console.log(\"its chairperson \", stats[\"voted\"]);\n        await token.vote(proposal);\n        alert(\"Congrats. Your vote has been accepted\");\n        window.location.reload();\n        //await refreshProposal()\n      } else {\n        if (stats[\"weight\"] === 1) {\n          await token.vote(proposal);\n          //window.location.reload();\n          alert(\"Congrats. Your vote has been accepted\");\n          window.location.reload();\n          //await refreshProposal()\n        } else if (stats[\"weight\"] === 0) {\n          alert(\"You first needs to be given permission to vote.\");\n        }\n      }\n    }\n  };\n\n  // Check if the address the user entered is a a voter or not\n  const checkAddressVoter = async () => {\n    try {\n      const voterData = await token.voters(`${voterAddressToCheck}`);\n      setVoterStatus(voterData);\n    } catch (err) {\n      console.log(err);\n      setVoterStatus('An error has occured');\n    }\n  };\n  const refreshProposal = async () => {\n    const newProposal = await token.getAllProposals();\n    setProposals(newProposal);\n  };\n  const addProposal = async () => {\n    try {\n      console.log(\"addProposal \", proposalToAdd);\n      const inbytes = ethers.utils.formatBytes32String(proposalToAdd);\n      console.log(\"addProposal inbytes \", inbytes);\n      //\tawait token.addProposal(inbytes);\n      token.addProposal(inbytes).then(function (result) {\n        //alert(\"New proposal has been added\")\n        console.log(result[\"hash\"]);\n        provider.getTransactionReceipt(result[\"hash\"]).then(function (res) {\n          console.log(res);\n          console.log(\"state \", res[\"status\"]);\n          if (res[\"status\"] == 1) {}\n        });\n\n        //\twindow.location.reload();\n        // const newProposal = token.getAllProposals();\n        // console.log(\"addProposal newProposal\" , newProposal)\n        // setProposals(newProposal);\n      });\n      //const newProposal = await token.getAllProposals();\n      //console.log(newProposal)\n      //setProposals(newProposal);\n      // alert(\"New proposal has been added\")\n      // window.location.reload();\n    } catch (err) {\n      console.log(err);\n      //setVoterStatus('An error has occured');\n    }\n  };\n\n  // It gives the right to vote to a new address\n  const addNewVoter = async () => {\n    try {\n      //const curUser = await provider.getSigner().getAddress();\n      console.log(\"addNewVoter newVoter \", newVoter);\n      const chairperson = await token.chairperson();\n      const stats = await token.voters(newVoter);\n      if (stats[\"voted\"]) {\n        alert(\"User has already voted.\");\n      }\n      if (newVoter === chairperson) {\n        alert(\"User are a Admin. You already have rights to vote\");\n      } else {\n        await token.giveRightToVote(newVoter);\n        setNewVoterStatus('Success');\n        alert(\"User has been given right to vote\");\n      }\n    } catch (err) {\n      console.log(\"addNewVoter \", err);\n      setNewVoterStatus('An error has occured');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '3rem 5rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Voting System\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"chairperson: \", chairperson]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(AddProposal, {\n      proposalToAdd: proposalToAdd,\n      setProposalToAdd: setProposalToAdd,\n      addProposal: addProposal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Proposals, {\n      proposals: proposals,\n      voteProposal: voteProposal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(AddVoter, {\n      addNewVoter: addNewVoter,\n      setNewVoter: setNewVoter,\n      newVoter: newVoter,\n      newVoterStatus: newVoterStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(CheckVoterAddress, {\n      voterAddressToCheck: voterAddressToCheck,\n      setVoterAddressToCheck: setVoterAddressToCheck,\n      checkAddressVoter: checkAddressVoter,\n      voterStatus: voterStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 3\n  }, this);\n};\n_s(Dapp, \"y50z6oSUsGko0yJs1ftwgcbXsHg=\");\n_c = Dapp;\nvar _c;\n$RefreshReg$(_c, \"Dapp\");","map":{"version":3,"names":["React","useEffect","useState","ethers","CheckVoterAddress","Proposals","AddVoter","AddProposal","TokenArtifact","contractAddress","jsxDEV","_jsxDEV","Dapp","_s","token","setToken","newVoter","setNewVoter","newVoterStatus","setNewVoterStatus","voterStatus","setVoterStatus","voterAddressToCheck","setVoterAddressToCheck","proposals","setProposals","chairperson","setChairperson","newProposal","setNewProposal","proposalToAdd","setProposalToAdd","provider","setProvider","_initialize","_intializeEthers","_provider","providers","Web3Provider","window","ethereum","_token","Contract","Ballot","getSigner","console","log","getAllProposals","newChairperson","init","selectedAddress","enable","voteProposal","proposal","getAddress","curUser","stats","voters","alert","vote","location","reload","checkAddressVoter","voterData","err","refreshProposal","addProposal","inbytes","utils","formatBytes32String","then","result","getTransactionReceipt","res","addNewVoter","giveRightToVote","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/wasim/Documents/GitHub/VotingDAO/VotingDAO/frontend/src/components/Dapp.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport { ethers } from 'ethers';\n\nimport CheckVoterAddress from './CheckVoterAddress';\nimport Proposals from './Proposals';\nimport AddVoter from './AddVoter';\nimport AddProposal from './AddProposal';\n\nimport TokenArtifact from '../ABI/Ballot.json';\nimport contractAddress from '../ABI/contract-address.json';\n\nexport const Dapp = () => {\n\n\tconst [token, setToken] = useState();\n\tconst [newVoter, setNewVoter] = useState('');\n\tconst [newVoterStatus, setNewVoterStatus] = useState('');\n\tconst [voterStatus, setVoterStatus] = useState();\n\tconst [voterAddressToCheck, setVoterAddressToCheck] = useState('');\n\tconst [proposals, setProposals] = useState([]);\n\tconst [chairperson, setChairperson] = useState('');\n\tconst [newProposal, setNewProposal] = useState('');\n\tconst [proposalToAdd, setProposalToAdd] = useState('');\n\tconst [provider, setProvider] = useState('');\n\n\t// **************** Ethers Connection for the SmartContract ****************\n\n\tasync function _initialize() {\n\t\tawait _intializeEthers();\n\t}\n\n\tconst _intializeEthers = async () => {\n\t\t// ethers connection for the smartcontract\n\t\tconst _provider = new ethers.providers.Web3Provider(window.ethereum);\n\n\t\tconst _token = new ethers.Contract(\n\t\t\tcontractAddress.Ballot,\n\t\t\tTokenArtifact,\n\t\t\t_provider.getSigner(0)\n\t\t);\n\n\t\tconsole.log(_token)\n\t\t\t// get the proposals\n\t\t\tconst newProposal = await _token.getAllProposals();\n\t\tconsole.log(newProposal)\n\t\t\t// get the chairman address\n\t\t\tconst newChairperson = await _token.chairperson();\n\t\tconsole.log(\"newChairperson \", newChairperson)\n\t\t// save the token data into a hook to reuse it along the app\n\t\tsetToken(_token);\n\t\tsetProposals(newProposal);\n\t\tsetChairperson(newChairperson);\n\t\tsetProvider(_provider);\n\t};\n\n\t// Connects to the smart contract token id (check /contracts/contract-address.json)\n\tasync function init() {\n\t\tconst [selectedAddress] = await window.ethereum.enable();\n\t\t_initialize(selectedAddress);\n\t}\n\n\tuseEffect(() => {\n\t\t// When the page loads it will initialize the init function\n\t\t// that we need to connect the frontend with the smartcontract\n\t\tinit();\n\t}, []);\n\n\t// **************** Here Starts The Real Logic of the Frontend -> SmartContract ****************\n\n\t// Vote the selected proposal (you can only vote one time)\n\tconst voteProposal = async (proposal) => {\n\n\t\tconsole.log(\"voteProposal \", proposal)\n\t\tconsole.log(\"provider.getSigner().getAddress() \", await provider.getSigner().getAddress())\n\n\t\tconst curUser = await provider.getSigner().getAddress();\n\t\tconst chairperson = await token.chairperson()\n\t\t\n\t\tconst stats = await token.voters(curUser);\n\t\tconsole.log(\"stats[voted] \", stats[\"voted\"])\n\n\t\tif(stats[\"voted\"]) {\n\t\t\talert(\"The voter has already voted.\")\n\t\t}\n\n\t\telse {\n\n\t\t\tif( chairperson === curUser) {\n\t\t\t\tconsole.log(\"its chairperson \", stats[\"voted\"])\n\t\t\t\tawait token.vote(proposal);\n\t\t\t\t\n\t\t\t\talert(\"Congrats. Your vote has been accepted\")\n\t\t\t\twindow.location.reload();\n\t\t\t\t//await refreshProposal()\n\t\t\t}\n\t\t\telse {\n\t\t\n\t\t\t\tif(stats[\"weight\"]  === 1) {\n\t\t\t\t\tawait token.vote(proposal);\n\t\t\t\t\t//window.location.reload();\n\t\t\t\t\talert(\"Congrats. Your vote has been accepted\")\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t//await refreshProposal()\n\t\t\t\t} else if(stats[\"weight\"]  === 0) {\n\t\t\t\t\talert(\"You first needs to be given permission to vote.\")\n\t\t\t\t}\n\t\n\t\t\t}\n\n\t\t}\n\t\t\n\t};\n\n\t// Check if the address the user entered is a a voter or not\n\tconst checkAddressVoter = async () => {\n\t\ttry {\n\t\t\tconst voterData = await token.voters(`${voterAddressToCheck}`);\n\t\t\tsetVoterStatus(voterData);\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\tsetVoterStatus('An error has occured');\n\t\t}\n\t};\n\n\tconst refreshProposal = async () => {\n\t\tconst newProposal = await token.getAllProposals();\n\t\tsetProposals(newProposal);\n\t}\n\tconst addProposal = async () => {\n\t\ttry {\n\t\t\tconsole.log(\"addProposal \", proposalToAdd);\n\t\t\tconst inbytes = ethers.utils.formatBytes32String(proposalToAdd);\n\t\t\tconsole.log(\"addProposal inbytes \", inbytes);\n\t\t//\tawait token.addProposal(inbytes);\n\t\t\ttoken.addProposal(inbytes).then(function(result) {\n\t\t\t\t//alert(\"New proposal has been added\")\n\t\t\t\tconsole.log(result[\"hash\"])\n\t\t\t\tprovider.getTransactionReceipt(result[\"hash\"]).then(function(res){\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tconsole.log(\"state \", res[\"status\"])\n\t\t\t\t\tif(res[\"status\"] == 1) {\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\n\t\t\t//\twindow.location.reload();\n\t\t\t\t// const newProposal = token.getAllProposals();\n\t\t\t\t// console.log(\"addProposal newProposal\" , newProposal)\n\t\t\t\t// setProposals(newProposal);\n\t\t\t})\n\t\t\t//const newProposal = await token.getAllProposals();\n\t\t\t//console.log(newProposal)\n\t\t\t//setProposals(newProposal);\n\t\t\t// alert(\"New proposal has been added\")\n\t\t\t// window.location.reload();\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\t//setVoterStatus('An error has occured');\n\t\t}\n\t};\n\n\t// It gives the right to vote to a new address\n\tconst addNewVoter = async () => {\n\t\ttry {\n\t\t\t//const curUser = await provider.getSigner().getAddress();\n\t\t\tconsole.log(\"addNewVoter newVoter \", newVoter)\n\t\t\tconst chairperson = await token.chairperson()\n\t\t\tconst stats = await token.voters(newVoter);\n\t\t\tif(stats[\"voted\"]) {\n\t\t\t\talert(\"User has already voted.\")\n\t\t\t}\n\t\t\tif(newVoter === chairperson) {\n\t\t\t\talert(\"User are a Admin. You already have rights to vote\")\n\t\t\t}\n\t\t\telse{\n\t\t\t\tawait token.giveRightToVote(newVoter);\n\t\t\t\tsetNewVoterStatus('Success');\n\t\t\t\talert(\"User has been given right to vote\")\n\t\t\t}\n\n\t\t\t\n\t\t} catch (err) {\n\t\t\tconsole.log(\"addNewVoter \", err);\n\t\t\tsetNewVoterStatus('An error has occured');\n\t\t}\n\t};\n\n\n\treturn (\n\t\t<div style={{ padding: '3rem 5rem' }}>\n\t\t\t<h1>Voting System</h1>\n\t\t\t<div>\n\t\t\t\t<h4>chairperson: {chairperson}</h4>\n\t\t\t</div>\n\t\t\t\n\t\t\t<AddProposal\n\t\t\t\tproposalToAdd={proposalToAdd}\n\t\t\t\tsetProposalToAdd={setProposalToAdd}\n\t\t\t\taddProposal={addProposal}\n\t\t\t/>\n\n\t\t\t<Proposals proposals={proposals} voteProposal={voteProposal} />\n\t\t\t<AddVoter\n\t\t\t\taddNewVoter={addNewVoter}\n\t\t\t\tsetNewVoter={setNewVoter}\n\t\t\t\tnewVoter={newVoter}\n\t\t\t\tnewVoterStatus={newVoterStatus}\n\t\t\t/>\n\t\t\t<CheckVoterAddress\n\t\t\t\tvoterAddressToCheck={voterAddressToCheck}\n\t\t\t\tsetVoterAddressToCheck={setVoterAddressToCheck}\n\t\t\t\tcheckAddressVoter={checkAddressVoter}\n\t\t\t\tvoterStatus={voterStatus}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}